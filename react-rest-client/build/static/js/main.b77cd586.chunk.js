(this.webpackJsonpclase=this.webpackJsonpclase||[]).push([[0],{22:function(t,e,a){},43:function(t,e,a){},72:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),r=a(31),s=a.n(r),i=(a(43),a(21),a(14)),o=a(2),u=a(37),j=a(20),l=a(9),b=a.n(l),d=a(13),h=a(7),O=(a(22),a(0)),p=function(t){var e=t.tarea,a=t.onClickFn,n=t.idx,c=t.btnTxt;return Object(O.jsxs)("div",{className:"grid-item",children:[Object(O.jsx)("h5",{className:"titulo",children:e.name}),Object(O.jsx)("h5",{className:"subtitulo",children:"Id: ".concat(e.id)}),Object(O.jsx)("h5",{className:"subtitulo",children:"Materia: ".concat(e.materia)}),Object(O.jsx)("h5",{className:"subtitulo",children:"Puntos: ".concat(e.puntos)}),Object(O.jsx)("h5",{className:"subtitulo",children:"Fecha de entrega: ".concat(e.fechaEntrega)}),Object(O.jsx)("h5",{className:"subtitulo",children:"Fecha de creacion: ".concat(e.fechaCreacion)}),Object(O.jsx)("button",{onClick:function(){a(n)},className:"btn",children:c})]})},x=function(t){var e=t.onClickFn,a=t.btnTxt,c=t.initData,r=Object(n.useState)(c?c.nombre:""),s=Object(h.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)(c?c.materia:""),j=Object(h.a)(u,2),l=j[0],b=j[1],d=Object(n.useState)(c?c.puntos:""),p=Object(h.a)(d,2),x=p[0],f=p[1],m=Object(n.useState)(c?c.fechaEntrega:""),v=Object(h.a)(m,2),g=v[0],N=v[1];return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:function(t){(t.preventDefault(),""===i||""===l||""===x||""===g)?alert("No puede dejar ningun campo vacio"):e({name:i,materia:l,puntos:x,fechaEntrega:g})},children:[Object(O.jsxs)("div",{className:"formQ",children:[Object(O.jsx)("label",{children:"Nombre: "}),Object(O.jsx)("input",{type:"text",value:i,onChange:function(t){return o(t.target.value)}})]}),Object(O.jsxs)("div",{className:"formQ",children:[Object(O.jsx)("label",{children:"Materia: "}),Object(O.jsx)("input",{type:"text",value:l,onChange:function(t){return b(t.target.value)}})]}),Object(O.jsxs)("div",{className:"formQ",children:[Object(O.jsx)("label",{children:"Puntos: "}),Object(O.jsx)("input",{type:"number",value:x,onChange:function(t){return f(t.target.value)}})]}),Object(O.jsxs)("div",{className:"formQ",children:[Object(O.jsx)("label",{children:"Fecha de entrega: "}),Object(O.jsx)("input",{type:"date",value:g,onChange:function(t){return N(t.target.value)}})]}),Object(O.jsx)("input",{className:"input-btn",type:"submit",value:a})]})})},f=function(){var t=Object(n.useState)([]),e=Object(h.a)(t,2),a=e[0],c=e[1],r=Object(n.useState)(!1),s=Object(h.a)(r,2),i=s[0],o=s[1];Object(n.useEffect)((function(){(function(){var t=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://tareas-api-ivanna.us-south.cf.appdomain.cloud/tareas");case 3:return e=t.sent,t.abrupt("return",e.json());case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()().then((function(t){return c(t.data)}))}),[]);var l=function(){var t=Object(d.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://tareas-api-ivanna.us-south.cf.appdomain.cloud/tareas".concat("/",a[e].id),{method:"DELETE"});case 3:c(a.filter((function(t,a){return a!==e}))),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"new-btn",onClick:function(){return o(!i)},children:i?"Cerrar":"Nueva tarea"}),i&&Object(O.jsx)(x,{onClickFn:function(t){try{var e=1;a.length>0&&(e=a.reduce((function(t,e){return parseInt(t.id)>parseInt(e.id)?t:e})),e=(parseInt(e.id)+1).toString()),t=Object(j.a)(Object(j.a)({},t),{},{id:e}),fetch("https://tareas-api-ivanna.us-south.cf.appdomain.cloud/tareas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){c([].concat(Object(u.a)(a),[t.data])),o(!1)}))}catch(n){console.log(n)}},btnTxt:"A\xf1adir Tarea"}),Object(O.jsx)("div",{className:"grid-container",children:a.map((function(t,e){return Object(O.jsx)(p,{tarea:t,onClickFn:l,idx:e,btnTxt:"Eliminar"},e)}))})]})},m=function(){var t=Object(n.useState)([]),e=Object(h.a)(t,2),a=e[0],c=e[1],r=Object(n.useState)(!1),s=Object(h.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)({}),j=Object(h.a)(u,2),l=j[0],f=j[1],m=Object(n.useState)("-1"),v=Object(h.a)(m,2),g=v[0],N=v[1];Object(n.useEffect)((function(){(function(){var t=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://tareas-api-ivanna.us-south.cf.appdomain.cloud/tareas");case 3:return e=t.sent,t.abrupt("return",e.json());case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()().then((function(t){return c(t.data)}))}),[]);var C=function(t){N(a[t]._id),f({nombre:a[t].name,materia:a[t].materia,puntos:a[t].puntos,fechaEntrega:a[t].fechaEntrega.substring(0,10)}),o(!0)};return Object(O.jsxs)(O.Fragment,{children:[i&&Object(O.jsxs)("div",{onBlur:function(){return console.log("h")},children:[Object(O.jsx)("button",{className:"new-btn",onClick:function(){return o(!1)},children:"Cerrar"}),Object(O.jsx)(x,{initData:l,onClickFn:function(t){fetch("https://tareas-api-ivanna.us-south.cf.appdomain.cloud/tareas".concat("/",g),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){c(a.map((function(e){return e.id===t.data.id?t.data:e}))),o(!1)}))},btnTxt:"Actualizar Tarea"})]}),Object(O.jsx)("div",{className:"grid-container",children:a.map((function(t,e){return Object(O.jsx)(p,{tarea:t,onClickFn:C,idx:e,btnTxt:"Editar"},e)}))})]})},v=a(32),g=a(33),N=a(38),C=a(36),y=a(34),k=a.n(y),T=function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t.tarea.id}),Object(O.jsx)("td",{children:t.tarea.name}),Object(O.jsx)("td",{children:t.tarea.puntos}),Object(O.jsx)("td",{children:t.tarea.materia}),Object(O.jsx)("td",{children:t.tarea.fechaEntrega}),Object(O.jsx)("td",{children:t.tarea.fechaCreacion})]})},S=function(t){Object(N.a)(a,t);var e=Object(C.a)(a);function a(t){var n;return Object(v.a)(this,a),(n=e.call(this,t)).state={tareas:[]},n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var t=this;k.a.get("https://tareas-api-ivanna.us-south.cf.appdomain.cloud/tareas").then((function(e){t.setState({tareas:e.data.data})})).catch((function(t){console.log(t)}))}},{key:"tareasListClass",value:function(){return this.state.tareas.map((function(t,e){return Object(O.jsx)(T,{tarea:t},e)}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h2",{children:"La lista de las tareas"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Tareas List"}),Object(O.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"ID"}),Object(O.jsx)("th",{children:"Nombre"}),Object(O.jsx)("th",{children:"Materia"}),Object(O.jsx)("th",{children:"Puntos"}),Object(O.jsx)("th",{children:"Fecha de Creaci\xf3n"}),Object(O.jsx)("th",{children:"Fecha de entrega"})]})}),Object(O.jsx)("tbody",{children:this.tareasListClass()})]})]})]})}}]),a}(n.Component);var E=function(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(O.jsx)("a",{children:Object(O.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Mostrar Tareas"})}),Object(O.jsx)("div",{className:"collpase navbar-collapse",children:Object(O.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(O.jsx)("li",{className:"navbar-item",children:Object(O.jsx)(i.b,{to:"/mostrar",className:"nav-link",children:"Tareas APP"})}),Object(O.jsx)("li",{className:"navbar-item",children:Object(O.jsx)(i.b,{to:"/actualizar",className:"nav-link",children:"Actualizar Tarea"})})]})})]}),Object(O.jsx)("br",{}),Object(O.jsx)(o.a,{exact:!0,path:"/mostrar",component:f}),Object(O.jsx)(o.a,{exact:!0,path:"/actualizar",component:m}),Object(O.jsx)(o.a,{exact:!0,path:"/",component:S})]})})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(E,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.b77cd586.chunk.js.map